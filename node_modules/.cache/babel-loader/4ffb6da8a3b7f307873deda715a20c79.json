{"ast":null,"code":"import _objectSpread from \"F:\\\\Developments\\\\Web Devolopment\\\\pcbSudeep\\\\PCB-ecomerce-frontend-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"F:\\\\Developments\\\\Web Devolopment\\\\pcbSudeep\\\\PCB-ecomerce-frontend-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport { v4 as uuid } from 'uuid';\nimport { ADD_TO_CART, DECREASE_QUANTITY, DELETE_FROM_CART, DELETE_ALL_FROM_CART } from \"../actions/cartActions\";\nvar initState = [];\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var cartItems = state,\n      product = action.payload;\n\n  if (action.type === ADD_TO_CART) {\n    // for non variant products\n    if (product.variation === undefined) {\n      var cartItem = cartItems.filter(function (item) {\n        return item.id === product.id;\n      })[0];\n\n      if (cartItem === undefined) {\n        return [].concat(_toConsumableArray(cartItems), [_objectSpread(_objectSpread({}, product), {}, {\n          quantity: product.quantity ? product.quantity : 1,\n          cartItemId: uuid()\n        })]);\n      } else {\n        return cartItems.map(function (item) {\n          return item.cartItemId === cartItem.cartItemId ? _objectSpread(_objectSpread({}, item), {}, {\n            quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1\n          }) : item;\n        });\n      } // for variant products\n\n    } else {\n      var _cartItem = cartItems.filter(function (item) {\n        return item.id === product.id && product.selectedProductColor && product.selectedProductColor === item.selectedProductColor && product.selectedProductSize && product.selectedProductSize === item.selectedProductSize && (product.cartItemId ? product.cartItemId === item.cartItemId : true);\n      })[0];\n\n      if (_cartItem === undefined) {\n        return [].concat(_toConsumableArray(cartItems), [_objectSpread(_objectSpread({}, product), {}, {\n          quantity: product.quantity ? product.quantity : 1,\n          cartItemId: uuid()\n        })]);\n      } else if (_cartItem !== undefined && (_cartItem.selectedProductColor !== product.selectedProductColor || _cartItem.selectedProductSize !== product.selectedProductSize)) {\n        return [].concat(_toConsumableArray(cartItems), [_objectSpread(_objectSpread({}, product), {}, {\n          quantity: product.quantity ? product.quantity : 1,\n          cartItemId: uuid()\n        })]);\n      } else {\n        return cartItems.map(function (item) {\n          return item.cartItemId === _cartItem.cartItemId ? _objectSpread(_objectSpread({}, item), {}, {\n            quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1,\n            selectedProductColor: product.selectedProductColor,\n            selectedProductSize: product.selectedProductSize\n          }) : item;\n        });\n      }\n    }\n  }\n\n  if (action.type === DECREASE_QUANTITY) {\n    if (product.quantity === 1) {\n      var remainingItems = function remainingItems(cartItems, product) {\n        return cartItems.filter(function (cartItem) {\n          return cartItem.cartItemId !== product.cartItemId;\n        });\n      };\n\n      return remainingItems(cartItems, product);\n    } else {\n      return cartItems.map(function (item) {\n        return item.cartItemId === product.cartItemId ? _objectSpread(_objectSpread({}, item), {}, {\n          quantity: item.quantity - 1\n        }) : item;\n      });\n    }\n  }\n\n  if (action.type === DELETE_FROM_CART) {\n    var _remainingItems = function _remainingItems(cartItems, product) {\n      return cartItems.filter(function (cartItem) {\n        return cartItem.cartItemId !== product.cartItemId;\n      });\n    };\n\n    return _remainingItems(cartItems, product);\n  }\n\n  if (action.type === DELETE_ALL_FROM_CART) {\n    return cartItems.filter(function (item) {\n      return false;\n    });\n  }\n\n  return state;\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["F:/Developments/Web Devolopment/pcbSudeep/PCB-ecomerce-frontend-main/src/redux/reducers/cartReducer.js"],"names":["v4","uuid","ADD_TO_CART","DECREASE_QUANTITY","DELETE_FROM_CART","DELETE_ALL_FROM_CART","initState","cartReducer","state","action","cartItems","product","payload","type","variation","undefined","cartItem","filter","item","id","quantity","cartItemId","map","selectedProductColor","selectedProductSize","remainingItems"],"mappings":"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","sourcesContent":["import {v4 as uuid} from 'uuid';\nimport {\n  ADD_TO_CART,\n  DECREASE_QUANTITY,\n  DELETE_FROM_CART,\n  DELETE_ALL_FROM_CART\n} from \"../actions/cartActions\";\n\nconst initState = [];\n\nconst cartReducer = (state = initState, action) => {\n  const cartItems = state,\n    product = action.payload;\n\n  if (action.type === ADD_TO_CART) {\n    // for non variant products\n    if (product.variation === undefined) {\n      const cartItem = cartItems.filter(item => item.id === product.id)[0];\n      if (cartItem === undefined) {\n        return [\n          ...cartItems,\n          {\n            ...product,\n            quantity: product.quantity ? product.quantity : 1,\n            cartItemId: uuid()\n          }\n        ];\n      } else {\n        return cartItems.map(item =>\n          item.cartItemId === cartItem.cartItemId\n            ? {\n                ...item,\n                quantity: product.quantity\n                  ? item.quantity + product.quantity\n                  : item.quantity + 1\n              }\n            : item\n        );\n      }\n      // for variant products\n    } else {\n      const cartItem = cartItems.filter(\n        item =>\n          item.id === product.id &&\n          product.selectedProductColor &&\n          product.selectedProductColor === item.selectedProductColor &&\n          product.selectedProductSize &&\n          product.selectedProductSize === item.selectedProductSize &&\n          (product.cartItemId ? product.cartItemId === item.cartItemId : true)\n      )[0];\n\n      if (cartItem === undefined) {\n        return [\n          ...cartItems,\n          {\n            ...product,\n            quantity: product.quantity ? product.quantity : 1,\n            cartItemId: uuid()\n          }\n        ];\n      } else if (\n        cartItem !== undefined &&\n        (cartItem.selectedProductColor !== product.selectedProductColor ||\n          cartItem.selectedProductSize !== product.selectedProductSize)\n      ) {\n        return [\n          ...cartItems,\n          {\n            ...product,\n            quantity: product.quantity ? product.quantity : 1,\n            cartItemId: uuid()\n          }\n        ];\n      } else {\n        return cartItems.map(item =>\n          item.cartItemId === cartItem.cartItemId\n            ? {\n                ...item,\n                quantity: product.quantity\n                  ? item.quantity + product.quantity\n                  : item.quantity + 1,\n                selectedProductColor: product.selectedProductColor,\n                selectedProductSize: product.selectedProductSize\n              }\n            : item\n        );\n      }\n    }\n  }\n\n  if (action.type === DECREASE_QUANTITY) {\n    if (product.quantity === 1) {\n      const remainingItems = (cartItems, product) =>\n        cartItems.filter(\n          cartItem => cartItem.cartItemId !== product.cartItemId\n        );\n      return remainingItems(cartItems, product);\n    } else {\n      return cartItems.map(item =>\n        item.cartItemId === product.cartItemId\n          ? { ...item, quantity: item.quantity - 1 }\n          : item\n      );\n    }\n  }\n\n  if (action.type === DELETE_FROM_CART) {\n    const remainingItems = (cartItems, product) =>\n      cartItems.filter(cartItem => cartItem.cartItemId !== product.cartItemId);\n    return remainingItems(cartItems, product);\n  }\n\n  if (action.type === DELETE_ALL_FROM_CART) {\n    return cartItems.filter(item => {\n      return false;\n    });\n  }\n\n  return state;\n};\n\nexport default cartReducer;\n"]},"metadata":{},"sourceType":"module"}