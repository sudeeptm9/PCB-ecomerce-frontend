{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\athya\\\\Documents\\\\mini project\\\\mini pro\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\athya\\\\Documents\\\\mini project\\\\mini pro\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\athya\\\\Documents\\\\mini project\\\\mini pro\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\athya\\\\Documents\\\\mini project\\\\mini pro\\\\frontend\\\\src\\\\pages\\\\other\\\\LoginRegister.js\";\n\nimport PropTypes from \"prop-types\";\nimport React, { Fragment, useState } from \"react\";\nimport MetaTags from \"react-meta-tags\"; // import { Link } from \"react-router-dom\";\n\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Nav from \"react-bootstrap/Nav\";\nimport LayoutOne from \"../../layouts/LayoutOne\";\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport { useHistory } from \"react-router-dom\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../../App\";\n\nvar LoginRegister = function LoginRegister(_ref) {\n  var location = _ref.location;\n  var history = useHistory();\n\n  var _useToasts = useToasts(),\n      addToast = _useToasts.addToast;\n\n  var pathname = location.pathname;\n  var cookies = new Cookies();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      confirmPassword = _useState6[0],\n      setConfirmPassword = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      username = _useState8[0],\n      setUsername = _useState8[1];\n\n  var user = useContext(UserContext);\n\n  var Login = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"http://13.233.238.76/api/user/login\", {\n                email: email,\n                passwords: password\n              });\n\n            case 2:\n              response = _context.sent;\n\n              if (response.status === 200) {\n                cookies.set(\"Authorization\", response.data.token, {\n                  path: \"/\",\n                  SameSite: \"None\"\n                });\n                cookies.set(\"Email\", email, {\n                  path: \"/\",\n                  SameSite: \"None\"\n                });\n                addToast(\"Login Successfully\", {\n                  appearance: \"success\"\n                });\n                user.setUser({\n                  email: email\n                });\n                history.goBack();\n              } else {\n                addToast(\"Email or Password incorrect\", {\n                  appearance: \"error\"\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function Login() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var Register = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(password, confirmPassword);\n\n              if (!(password === confirmPassword)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 4;\n              return axios.post(\"http://13.233.238.76/api/user/register\", {\n                username: username,\n                email: email,\n                passwords: password\n              });\n\n            case 4:\n              response = _context2.sent;\n\n              if (response.status === 200) {\n                addToast(\"Regsitered successfully\", {\n                  appearance: \"success\"\n                }); // Login();\n              } else {\n                addToast(\"Regsiteration failed as email already exists\", {\n                  appearance: \"error\"\n                });\n              }\n\n              _context2.next = 9;\n              break;\n\n            case 8:\n              addToast(\"Password and Confirm Password not matching\", {\n                appearance: \"error\"\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function Register() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MetaTags, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"ProPCB | Login\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"Login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + pathname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Login Register\"), /*#__PURE__*/React.createElement(LayoutOne, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-area pt-100 pb-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-7 col-md-12 ml-auto mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Tab.Container, {\n    defaultActiveKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    variant: \"pills\",\n    className: \"login-register-tab-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    eventKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 27\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(Nav.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    eventKey: \"register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 27\n    }\n  }, \"Register\")))), /*#__PURE__*/React.createElement(Tab.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tab.Pane, {\n    eventKey: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"user-email\",\n    placeholder: \"Email\",\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"user-password\",\n    placeholder: \"Password\",\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      Login();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 35\n    }\n  }, \"Login\"))))))), /*#__PURE__*/React.createElement(Tab.Pane, {\n    eventKey: \"register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-register-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"user-name\",\n    placeholder: \"Username\",\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setUsername(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"user-email\",\n    placeholder: \"Email\",\n    type: \"email\",\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"user-password\",\n    placeholder: \"Password\",\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"confirm-user-password\",\n    placeholder: \"Confirm Password\",\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setConfirmPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      Register();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 35\n    }\n  }, \"Register\"))))))))))))))));\n};\n\nLoginRegister.propTypes = {\n  location: PropTypes.object\n};\nexport default LoginRegister;","map":{"version":3,"sources":["C:/Users/athya/Documents/mini project/mini pro/frontend/src/pages/other/LoginRegister.js"],"names":["PropTypes","React","Fragment","useState","MetaTags","BreadcrumbsItem","Tab","Nav","LayoutOne","Breadcrumb","axios","Cookies","useHistory","useToasts","useContext","UserContext","LoginRegister","location","history","addToast","pathname","cookies","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","username","setUsername","user","Login","post","passwords","response","status","set","data","token","path","SameSite","appearance","setUser","goBack","Register","console","log","process","env","PUBLIC_URL","e","preventDefault","target","value","propTypes","object"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState } from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\n// import { Link } from \"react-router-dom\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport { useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\n\r\nconst LoginRegister = ({ location }) => {\r\n  let history = useHistory();\r\n  let { addToast } = useToasts();\r\n  const { pathname } = location;\r\n  const cookies = new Cookies();\r\n  let [email, setEmail] = useState();\r\n  let [password, setPassword] = useState();\r\n  let [confirmPassword, setConfirmPassword] = useState();\r\n  let [username, setUsername] = useState();\r\n\r\n  let user = useContext(UserContext);\r\n\r\n  const Login = async () => {\r\n    let response = await axios.post(`http://13.233.238.76/api/user/login`, {\r\n      email: email,\r\n      passwords: password,\r\n    });\r\n    if (response.status === 200) {\r\n      cookies.set(\"Authorization\", response.data.token, {\r\n        path: \"/\",\r\n        SameSite: \"None\",\r\n      });\r\n      cookies.set(\"Email\", email, { path: \"/\", SameSite: \"None\" });\r\n      addToast(\"Login Successfully\", { appearance: \"success\" });\r\n      user.setUser({ email: email });\r\n      history.goBack();\r\n    } else {\r\n      addToast(\"Email or Password incorrect\", { appearance: \"error\" });\r\n    }\r\n  };\r\n  const Register = async () => {\r\n    console.log(password, confirmPassword);\r\n    if (password === confirmPassword) {\r\n      let response = await axios.post(\r\n        `http://13.233.238.76/api/user/register`,\r\n        {\r\n          username: username,\r\n          email: email,\r\n          passwords: password,\r\n        }\r\n      );\r\n      if (response.status === 200) {\r\n        addToast(\"Regsitered successfully\", { appearance: \"success\" });\r\n        // Login();\r\n      } else {\r\n        addToast(\"Regsiteration failed as email already exists\", {\r\n          appearance: \"error\",\r\n        });\r\n      }\r\n    } else {\r\n      addToast(\"Password and Confirm Password not matching\", {\r\n        appearance: \"error\",\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>ProPCB | Login</title>\r\n        <meta name=\"description\" content=\"Login\" />\r\n      </MetaTags>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Login Register\r\n      </BreadcrumbsItem>\r\n      <LayoutOne>\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"login-register-area pt-100 pb-100\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-7 col-md-12 ml-auto mr-auto\">\r\n                <div className=\"login-register-wrapper\">\r\n                  <Tab.Container defaultActiveKey=\"login\">\r\n                    <Nav variant=\"pills\" className=\"login-register-tab-list\">\r\n                      <Nav.Item>\r\n                        <Nav.Link eventKey=\"login\">\r\n                          <h4>Login</h4>\r\n                        </Nav.Link>\r\n                      </Nav.Item>\r\n                      <Nav.Item>\r\n                        <Nav.Link eventKey=\"register\">\r\n                          <h4>Register</h4>\r\n                        </Nav.Link>\r\n                      </Nav.Item>\r\n                    </Nav>\r\n                    <Tab.Content>\r\n                      <Tab.Pane eventKey=\"login\">\r\n                        <div className=\"login-form-container\">\r\n                          <div className=\"login-register-form\">\r\n                            <form>\r\n                              <input\r\n                                type=\"email\"\r\n                                name=\"user-email\"\r\n                                placeholder=\"Email\"\r\n                                onChange={(e) => {\r\n                                  e.preventDefault();\r\n                                  setEmail(e.target.value);\r\n                                }}\r\n                              />\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"user-password\"\r\n                                placeholder=\"Password\"\r\n                                onChange={(e) => {\r\n                                  e.preventDefault();\r\n                                  setPassword(e.target.value);\r\n                                }}\r\n                              />\r\n                              <div className=\"button-box\">\r\n                                {/* <div className=\"login-toggle-btn\">\r\n                                  <input type=\"checkbox\" />\r\n                                  <label className=\"ml-10\">Remember me</label>\r\n                                  <Link to={process.env.PUBLIC_URL + \"/\"}>\r\n                                    Forgot Password?\r\n                                  </Link>\r\n                                </div> */}\r\n                                <button\r\n                                  type=\"submit\"\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    Login();\r\n                                  }}\r\n                                >\r\n                                  <span>Login</span>\r\n                                </button>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                        </div>\r\n                      </Tab.Pane>\r\n                      <Tab.Pane eventKey=\"register\">\r\n                        <div className=\"login-form-container\">\r\n                          <div className=\"login-register-form\">\r\n                            <form>\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"user-name\"\r\n                                placeholder=\"Username\"\r\n                                onChange={(e) => {\r\n                                  e.preventDefault();\r\n                                  setUsername(e.target.value);\r\n                                }}\r\n                              />\r\n                              <input\r\n                                name=\"user-email\"\r\n                                placeholder=\"Email\"\r\n                                type=\"email\"\r\n                                onChange={(e) => {\r\n                                  e.preventDefault();\r\n                                  setEmail(e.target.value);\r\n                                }}\r\n                              />\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"user-password\"\r\n                                placeholder=\"Password\"\r\n                                onChange={(e) => {\r\n                                  e.preventDefault();\r\n                                  setPassword(e.target.value);\r\n                                }}\r\n                              />\r\n                              <input\r\n                                type=\"password\"\r\n                                name=\"confirm-user-password\"\r\n                                placeholder=\"Confirm Password\"\r\n                                onChange={(e) => {\r\n                                  e.preventDefault();\r\n                                  setConfirmPassword(e.target.value);\r\n                                }}\r\n                              />\r\n                              <div className=\"button-box\">\r\n                                <button\r\n                                  type=\"submit\"\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    Register();\r\n                                  }}\r\n                                >\r\n                                  <span>Register</span>\r\n                                </button>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                        </div>\r\n                      </Tab.Pane>\r\n                    </Tab.Content>\r\n                  </Tab.Container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nLoginRegister.propTypes = {\r\n  location: PropTypes.object,\r\n};\r\n\r\nexport default LoginRegister;\r\n"]},"metadata":{},"sourceType":"module"}